<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Veterinaria.Views.Citas"
             Title="Citas"
             BackgroundColor="#F5F5F5">

    <Grid RowDefinitions="Auto,*">
        <!-- Encabezado, y contenido con buscador -->

        <!-- ENCABEZADO (logo, título, fecha) -->
        <StackLayout Grid.Row="0" VerticalOptions="Start" HorizontalOptions="Center" Padding="0" Margin="0">

            <Image Source="logovetnegro.png"
                   WidthRequest="170"
                   HeightRequest="80"
                   Margin="0,20,0,5" />

            <Label Text="CITAS" 
                   FontSize="30" 
                   FontAttributes="None"
                   TextColor="Black"
                   HorizontalOptions="Center"   
                   Margin="0,20"/>

            <HorizontalStackLayout Spacing="120" VerticalOptions="Center">
                <Label x:Name="lblFecha"
                       FontSize="20" 
                       FontAttributes="None" 
                       HorizontalOptions="Start"   
                       Margin="0,20,30,10"/>

                <Image Source="iconocalendario.png"
                       HeightRequest="27"
                       WidthRequest="27"
                       VerticalOptions="End"
                       HorizontalOptions="Center"
                       Margin="0,0,0,10">
                    <Image.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnEditar" />
                    </Image.GestureRecognizers>
                </Image>
            </HorizontalStackLayout>

            <BoxView HeightRequest="0.5"
                     Color="Black"
                     HorizontalOptions="Fill"
                     WidthRequest="335"
                     Margin="0,0,0,10" />
        </StackLayout>

        <!-- CONTENIDO: días y buscador -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Padding="0" Margin="0">

                <!-- Grid de días -->
                <Grid x:Name="SemanaGrid"
                      ColumnSpacing="20"
                      RowSpacing="10"
                      HorizontalOptions="Center">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                </Grid>

                <!-- Buscador y botón debajo de los días -->
                <HorizontalStackLayout Spacing="10" Margin="0,20,0,20" HorizontalOptions="Center">
                    <Grid>
                        <Frame CornerRadius="25"
                               BorderColor="#F17105"
                               BackgroundColor="#F5F5F5"
                               Padding="15,2.5,0,2.5"
                               HeightRequest="47"
                               WidthRequest="300">
                            <Grid Padding="0,0">
                                <Entry x:Name="BuscarEntry"
                                       Placeholder="Buscar..."
                                       BackgroundColor="#F5F5F5"
                                       TextColor="Black"
                                       FontSize="16"/>
                                <Image Source="lupa.png"
                                       HeightRequest="25"
                                       WidthRequest="25"
                                       VerticalOptions="Center"
                                       Margin="200,0,0,0"/>
                            </Grid>
                        </Frame>
                    </Grid>

                    <Image Source="plus.png"
                           WidthRequest="35"
                           HeightRequest="35"
                           HorizontalOptions="End"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>

